<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Brian Tang - InfoVis A3</title>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Source+Sans+Pro:wght@300;700&display=swap" rel="stylesheet">
    <!-- d3 Tooltip -->
    <script src="https://unpkg.com/d3-v6-tip@1.0.6/build/d3-v6-tip.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/bumbeishvili/d3-tip-for-v6@4/d3-tip.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="infovisA3_style.css">
  </head>
  <body>
    <!-- d3 v6 integration -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- d3 topojson -->
    <script src="https://d3js.org/topojson.v1.min.js"></script>
    <div class="container write-up">
      <div class="title">
        <h1>My First Interactive Information Visualization</h1>
      </div>
      <h3>Project Description</h3>
      <p>Interactive visualization of the United States' energy consumption, production, and expenditure from 2010 to 2014 created by <a href="/">Brian Tang</a>.</p>
      <h3>Background</h3>
      <p>As our final assignment for Northwestern University's Interactive Information Visualization course (NUCS 496), we were tasked to find a dataset and use concepts and techniques that we have learned throughout the quarter to create a visualization that is both expressive and effective. To be expressive and effective is to have all the data represented in a way that effectively conveys the significance of the data without misrepresentation. In addition, the visualization must demonstrate that interactivity is crucial and necessary--otherwise a single static visualization would suffice.</p>
      <h3>Storyboard & Motivation</h3>
      <p>Based on my experience from creating a visualization for the 2nd assignment in the class, I realized that it was difficult to create a static map that was both expressive and effective since there were a lot of visual encodings that could no longer be used. Thus, I decided to find dataset that would specifically benefit from having a geographical map to demonstrate the abilities of an interactive visualization. I eventually settled on a dataset on the United States Energy from 2010 to 2014. As mentioned previously, I used a map of the United States to represent the geographical location of the States (shown in <b>Figure 1</b>).</p>
      <img src="images/A3 Storyboard-1.png" alt="assignment 3 storyboard #1">
      <figcaption><b>Figure 1:</b> Storyboard #1 - mapping US State geographical location on map</figcaption>
      <p>The first variables from the dataset I looked at is the energy amount. Since it is a quantitative variable, I mapped the value to color value. The quantitative is sequential and has no meaningful breakpoints, so I used a sequential color scheme where the smallest value is the lightest and the biggest value is the darkest. Since it is difficult for humans to perceive the precise value from just looking at the color value, I used a cursor hover activated tooltip to show the exact value from the dataset (shown in <b>Figure 2</b>).</p>
      <img src="images/A3 Storyboard-2.png" alt="assignment 3 storyboard #2">
      <figcaption><b>Figure 2:</b> Storyboard #2 - mapping energy BTU value to color value</figcaption>
      <p>Since there are many different energy types, I used a dropdown selector as a filter. I originally planned to use color hue to represent the different energy types, but after some thought, I decided that it did not aid in the effectiveness of the visualization. In fact, I was afraid that using color hue would cause viewers to accidentally misinterpret the value based on human perception of color (shown in <b>Figure 3</b>).</p>
      <img src="images/A3 Storyboard-3.png" alt="assignment 3 storyboard #3">
      <figcaption><b>Figure 3:</b> Storyboard #3 - using dropdown selector as a way to filter energy type</figcaption>
      <p>As shown in my last storyboard (<b>Figure 4</b>), I used a slider selector to filter the data by year. This is because a slider intuitively suggests to the viewer that the variable it controls is sequential or ordinal, which is the case with the year variable.</p>
      <img src="images/A3 Storyboard-4.png" alt="assignment 3 storyboard #4">
      <figcaption><b>Figure 4:</b> Storyboard #4 - using slider filter to select year</figcaption>
      <p>After coding and also getting feedback from classmates, I implemented a bar graph that would appear when a state was selected to show its energy source or production composition as well the expenditure. I also included a color legend so that the range of values could be viewed immediately.</p>
      <h3>Takeaways & Conclusion</h3>
      <p>By using this interactive visualization, the most immediate and obvious observation is that California and Texas consumes and spends the most on energy. The states that produces the most amount of energy is Texas and Colorado. Unsurprisngly, within only a span of 5 years, the differences in values during that time is not immediately notable. In general, the amount of energy consumed and the type consumed is related to the population size and the location of the state. By looking at the bar graphs, we can see that despite the many different energy sources, fossil fuel is the main source of power for the US.</p>
      <p>This assignment in total took approximately 20 hrs to complete. The main obstacle was trying to learn d3.js and implementing the features I had in mind, although selecting a suitable dataset also took a considerable amount of time. Although I am proficient in vanilla javascript and javascript frameworks (React.js, Node.js, jQuery), it took some getting used to using d3.js functions such as <code class="language-javascript">d3.select()</code> and elements such as <code class="language-markup">svg</code>, <code class="language-markup">path</code>, and <code class="language-markup">g</code>.</p>
      <h3>Future Plans</h3>
      <p>Unfortunately, with the time limitation and the amount of data in the dataset, there are still plenty of features that could be implemented. My next steps are:</p>
      <ul>
        <li>adding a toggle button to view the data in the form of energy or expenditure per capita</li>
        <li>implementing a selector, such as a range selector, that can select and show the change in value between years</li>
        <li>using a dropdown checkbox selector that can aggregate the different types of energy types</li>
      </ul>
      <p>As someone who cares about human-computer interaction, I also plan to do the following:</p>
      <ul>
        <li>improving the layout of the visualization with respect to the location of the filter selectors</li>
        <li>increase responsiveness to window size and device support</li>
      </ul>
      <h3>Data & Citations</h3>
      <p>Although the work and code is mine, this visualization would not have been possible without the internet and its myriad of resources and people who were kind enough to share their work. The base idea and its structure was taken from tutorial code given in <a href="https://www.mccormick.northwestern.edu/computer-science/academics/courses/descriptions/333.html">NUCS496 (Interactive Information Visualization)</a>. The dataset I used was obtained from <a href="https://www.kaggle.com/lislejoem/us_energy_census_gdp_10-14">Kaggle</a>. I was able to create the bar graph chart with the help of a tutorial page from <a href="https://www.tutorialsteacher.com/d3js/create-bar-chart-using-d3js">TutorialsTeacher</a>. The color legend used in the visualization is taken and modified from <a href="https://observablehq.com/@d3/color-legend">Observable</a>.</p>
    </div>
    <div class="title">
        <h2>Interactive Visualization of Energy in USA 2010 - 2014</h1>
    </div>
    <div class="flex-container">
      <div id="visualization" class="frame">
          <svg class="map"></svg>
          <svg id="legend"></svg>
          <div id="no-data-text"><h1></h1></div>
          <svg class="chart" width="600" height="500"></svg>
          <script src="infovisA3.js"></script>
      </div>
      <div id="filters" class="frame">
          <label for="energy-type" class="form-label">Energy Type:</label>
          <select class="form-select" name="energy-type" id="energy-type">
              <option value="Total">All</option>
              <option value="Biomass">Biomass</option>
              <option value="Coal">Coal</option>
              <option value="Elec">Electricity</option>
              <option value="FossFuel">Fossil Fuel</option>
              <option value="Geo">Geothermal</option>
              <option value="Hydro">Hydropower</option>
              <option value="LPG">Liquefied Petroleum Gas (LPG)</option>
              <option value="NatGas">Natural Gas</option>
          </select>
          <label for="data-type" class="form-label">Data Type:</label>
          <select class="form-select" name="data-type" id="data-type">
              <option value="C">Consumption</option>
              <option value="P">Production</option>
              <option value="E">Expenditure</option>
          </select>
          
          <label for="year" class="form-label">Year: <span id="year-label">2010</span></label>
          <input type="range" class="form-range" min="2010" max="2014" value="2010" name="year" id="year" list="tickmarks">
      </div>
    </div>
  </body>
</html>